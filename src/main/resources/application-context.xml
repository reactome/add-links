<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

	<context:property-placeholder location="classpath:*.properties" />
	
<!-- 	<context:annotation-config/>
	
	<context:component-scan base-package="org.reactome.addlinks" annotation-config="true" />
 -->	
	<import resource="reference-databases.xml"/>
	<import resource="basic-file-retrievers.xml"/>
	<import resource="uniprot-file-retrievers.xml"/>
	<import resource="ensembl-file-retrievers.xml"/>
	<import resource="file-processors.xml"/>
	<import resource="file-processors-ref-creators-link.xml"/>
	<import resource="reference-creators.xml"/>

	<!-- DB Adapter 
	public MySQLAdaptor(String host,String database,String username,String password,int port)
	-->
	<bean id="dbAdapter" name="dbAdapter" class="org.gk.persistence.MySQLAdaptor" scope="singleton">
		<constructor-arg name="host" index="0" value="${database.host}"/>
		<constructor-arg name="database" index="1" value="${database.name}"/>
		<constructor-arg name="username" index="2" value="${database.user}"/>
		<constructor-arg name="password" index="3" value="${database.password}"/>
		<constructor-arg name="port" index="4" value="${database.port}"/>
	</bean>
	
	
	<bean id="objectCache" class="org.reactome.addlinks.db.ReferenceObjectCache" scope="singleton">
		<constructor-arg index="0" type="org.gk.persistence.MySQLAdaptor" name="adapter" ref="dbAdapter"/>
		<constructor-arg index="1" name="lazyLoad" value="true" />
	</bean>
	

	<util:list id="fileRetrieverFilter" value-type="java.lang.String">
		<value>EnsemblToALL</value>
		<value>UniProtToEntrez_Gene</value>
		<value>UniProtToKEGG</value>
		<value>UniProtToOMIM</value>
		<value>UniProtToPDB</value>
		<value>UniProtToRefSeqPeptide</value>
		<value>UniProtToRefSeqRNA</value>
		<value>UniProtToENSEMBL</value>
		<value>UniProtToWormbase</value>
 		<value>PROToReferencePeptideSequence</value>
		<value>EntrezGeneToUniprotReference</value>
		<value>HmdbProteins</value>
		<value>HmdbMolecules</value>
		<value>DOCKBlaster</value>
		<value>OrphanetToUniprotReferenceDNASequence</value>
		<value>FlyBaseToUniprotReferenceDNASequence</value>
		<value>IntActDatabaseIdentifierToComplexOrReactionlikeEvent</value>
		<value>RHEAIdentifierToReactionlikeEvent</value>
		<value>OrthologsFromZinc</value>
		<value>Zinc</value>
	</util:list>

	<util:list id="fileProcessorFilter" value-type="java.lang.String">
		<value>zincProtFileProcessor</value>
		<value>ENSEMBLFileProcessor</value>
		<value>ENSEMBLNonCoreFileProcessor</value>
		<value>ZincMoleculesFileProcessor</value>
		<value>DockblasterFileProcessor</value>
		<value>HmdbProteinsFileProcessor</value>
		<value>HmdbMetabolitesFileProcessor</value>
		<value>PROFileProcessor</value>
		<value>FlyBaseFileProcessor</value>
		<value>OrphanetFileProcessor</value>
		<value>IntActFileProcessor</value>
 		<value>UniprotToEnsemblFileProcessor</value>
		<value>UniprotToPDBFileProcessor</value>
		<value>UniprotToRefSeqPeptideFileProcessor</value>
		<value>UniprotToRefSeqRNAFileProcessor</value>
		<value>UniprotToOMIMFileProcessor</value>
		<value>UniprotToEntrezGeneFileProcessor</value>
		<value>UniprotToWormbaseFileProcessor</value>
		<value>UniprotToKEGGFileProcessor</value>
	</util:list>

	<util:list id="referenceCreatorFilter" value-type="java.lang.String">
		<value>upMappedKEGGRefCreator</value>
		<value>upMappedPDBRefCreator</value>
		<value>upMappedOMIMRefCreator</value>
		<value>upMappedENSEMBLGeneRefCreator</value>
		<value>upMappedEntrezGeneRefCreator</value>
		<value>upMappedRefSeqRNARefCreator</value>
		<value>upMappedRefSeqPeptideRefCreator</value>
		<value>upMappedWormbaseRefCreator</value>
		<value>OrphanetReferenceCreator</value>
		<value>proRefCreator</value>
		<value>FlyBaseReferenceCreator</value>
		<value>pdbRefCreator</value>
		<value>geneCardsRefCreator</value>
		<value>zincToChEBIReferenceCreator</value>
		<value>HMDBProtReferenceCreator</value>
		<value>zincToUniProtReferenceCreator</value>
		<value>HmdbMoleculeReferenceCreator</value>
		<value>ENSEMBLToEntrezGeneRefCreator</value>
		<value>ENSEMBLEnspToEnsgRefCreator</value>
	</util:list>

	<bean id="addLinks" name="addLinks" class="org.reactome.addlinks.AddLinks" scope="singleton" autowire="byName"
		depends-on="objectCache,fileRetrievers,fileRetrieverFilter,fileProcessorFilter,fileProcessors,uniProtFileRetrievers,ensemblFileRetrievers,referenceDatabases,processorCreatorLink,referenceCreatorFilter">
		<property name="uniprotFileRetrievers" ref="uniProtFileRetrievers"/>
		<property name="referenceDatabasesToCreate" ref="referenceDatabases"/>
		<property name="ensemblBatchLookup" ref="ensemblBatchLookup" />
		<property name="processorCreatorLink" ref="processorCreatorLink"/>
	</bean>
	
	
</beans>